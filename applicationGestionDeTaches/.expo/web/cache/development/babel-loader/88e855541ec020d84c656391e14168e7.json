{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { modifyTask, updateTask } from \"../API/todoAPI\";\nimport { TokenContext } from \"../Context/Context\";\nimport { getTaskList } from \"./TodoList\";\nexport default function TodoItem(props) {\n  var _useState = useState(props.item.done),\n    _useState2 = _slicedToArray(_useState, 2),\n    done = _useState2[0],\n    setDone = _useState2[1];\n  var _useState3 = useState(props.item.title),\n    _useState4 = _slicedToArray(_useState3, 2),\n    titleItem = _useState4[0],\n    setTitleItem = _useState4[1];\n  var token = React.useContext(TokenContext);\n  useEffect(function () {\n    setDone(props.item.done);\n  }, [props.item.done]);\n  useEffect(function () {\n    setTitleItem(props.item.title);\n  }, [props.item.title]);\n  function update(id, token, done) {\n    updateTask(id, token[0], done).then(function (data) {});\n  }\n  console.log(\"Le fameux\" + props.modifiedText);\n  return React.createElement(View, {\n    style: styles.content\n  }, React.createElement(Switch, {\n    value: done,\n    onValueChange: function onValueChange() {\n      setDone(!done);\n      props.updateCountItemDone(props.item.id);\n      update(props.item.id, token, !done);\n    }\n  }), React.createElement(Text, {\n    style: [styles.text_item, {\n      textDecorationLine: done ? 'line-through' : 'none'\n    }]\n  }, titleItem), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      props.enableModifyTodo();\n      props.setTmpId(props.item.id);\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/modify.png\"),\n    style: {\n      height: 24,\n      width: 24\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.deleteTodo(props.item.id);\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/trash-can-outline.png\"),\n    style: {\n      height: 24,\n      width: 24\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  content: {\n    flexDirection: 'row'\n  },\n  text_item: {\n    marginLeft: 10,\n    width: 150\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","modifyTask","updateTask","TokenContext","getTaskList","TodoItem","props","item","done","setDone","title","titleItem","setTitleItem","token","useContext","update","id","then","data","console","log","modifiedText","styles","content","updateCountItemDone","text_item","textDecorationLine","enableModifyTodo","setTmpId","require","height","width","deleteTodo","StyleSheet","create","flexDirection","marginLeft"],"sources":["/home/marta/Documents/L3/React/projetreact-marta-sara/tp4/components/TodoItem.js"],"sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport { Image, View, Text, StyleSheet, Switch, TouchableOpacity } from 'react-native';\nimport { modifyTask, updateTask } from \"../API/todoAPI\";\nimport { TokenContext } from \"../Context/Context\";\nimport { getTaskList } from \"./TodoList\";\n\nexport default function TodoItem(props) {\n    const [done, setDone] = useState(props.item.done);\n    const [titleItem, setTitleItem] = useState(props.item.title);\n    const token = React.useContext(TokenContext)\n\n    useEffect(() => {\n        setDone(props.item.done)\n    },\n        [props.item.done]\n    );\n    \n    useEffect(() => {\n        setTitleItem(props.item.title)\n    },\n        [props.item.title]\n    );\n\n    function update(id,token,done) {\n        updateTask(id,token[0],done).then(data => {})\n    }\n   \n\n   console.log(\"Le fameux\"+props.modifiedText) \n\n\n    return (\n        <View style={styles.content}>\n\n            <Switch value={done} onValueChange={() => {setDone(!done); props.updateCountItemDone(props.item.id); update(props.item.id,token,!done)}}/>\n\n            <Text style={[styles.text_item, { textDecorationLine: done ? 'line-through' : 'none' }]}>{titleItem}</Text>\n        \n            <TouchableOpacity onPress={() => {props.enableModifyTodo(); props.setTmpId(props.item.id)}}>\n                \n                <Image source={require('../assets/modify.png')} style={{ height: 24, width: 24 }} />\n\n            </TouchableOpacity>\n\n            <TouchableOpacity onPress={() => (props.deleteTodo(props.item.id))}>\n                \n                <Image source={require('../assets/trash-can-outline.png')} style={{ height: 24, width: 24 }} />\n\n            </TouchableOpacity>\n\n            \n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    content: {\n        flexDirection: 'row'\n    },\n    text_item: {\n        marginLeft: 10,\n        width: 150\n    }\n})"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAElD,SAASC,UAAU,EAAEC,UAAU;AAC/B,SAASC,YAAY;AACrB,SAASC,WAAW;AAEpB,eAAe,SAASC,QAAQ,CAACC,KAAK,EAAE;EACpC,gBAAwBP,QAAQ,CAACO,KAAK,CAACC,IAAI,CAACC,IAAI,CAAC;IAAA;IAA1CA,IAAI;IAAEC,OAAO;EACpB,iBAAkCV,QAAQ,CAACO,KAAK,CAACC,IAAI,CAACG,KAAK,CAAC;IAAA;IAArDC,SAAS;IAAEC,YAAY;EAC9B,IAAMC,KAAK,GAAGf,KAAK,CAACgB,UAAU,CAACX,YAAY,CAAC;EAE5CH,SAAS,CAAC,YAAM;IACZS,OAAO,CAACH,KAAK,CAACC,IAAI,CAACC,IAAI,CAAC;EAC5B,CAAC,EACG,CAACF,KAAK,CAACC,IAAI,CAACC,IAAI,CAAC,CACpB;EAEDR,SAAS,CAAC,YAAM;IACZY,YAAY,CAACN,KAAK,CAACC,IAAI,CAACG,KAAK,CAAC;EAClC,CAAC,EACG,CAACJ,KAAK,CAACC,IAAI,CAACG,KAAK,CAAC,CACrB;EAED,SAASK,MAAM,CAACC,EAAE,EAACH,KAAK,EAACL,IAAI,EAAE;IAC3BN,UAAU,CAACc,EAAE,EAACH,KAAK,CAAC,CAAC,CAAC,EAACL,IAAI,CAAC,CAACS,IAAI,CAAC,UAAAC,IAAI,EAAI,CAAC,CAAC,CAAC;EACjD;EAGDC,OAAO,CAACC,GAAG,CAAC,WAAW,GAACd,KAAK,CAACe,YAAY,CAAC;EAG1C,OACI,oBAAC,IAAI;IAAC,KAAK,EAAEC,MAAM,CAACC;EAAQ,GAExB,oBAAC,MAAM;IAAC,KAAK,EAAEf,IAAK;IAAC,aAAa,EAAE,yBAAM;MAACC,OAAO,CAAC,CAACD,IAAI,CAAC;MAAEF,KAAK,CAACkB,mBAAmB,CAAClB,KAAK,CAACC,IAAI,CAACS,EAAE,CAAC;MAAED,MAAM,CAACT,KAAK,CAACC,IAAI,CAACS,EAAE,EAACH,KAAK,EAAC,CAACL,IAAI,CAAC;IAAA;EAAE,EAAE,EAE1I,oBAAC,IAAI;IAAC,KAAK,EAAE,CAACc,MAAM,CAACG,SAAS,EAAE;MAAEC,kBAAkB,EAAElB,IAAI,GAAG,cAAc,GAAG;IAAO,CAAC;EAAE,GAAEG,SAAS,CAAQ,EAE3G,oBAAC,gBAAgB;IAAC,OAAO,EAAE,mBAAM;MAACL,KAAK,CAACqB,gBAAgB,EAAE;MAAErB,KAAK,CAACsB,QAAQ,CAACtB,KAAK,CAACC,IAAI,CAACS,EAAE,CAAC;IAAA;EAAE,GAEvF,oBAAC,KAAK;IAAC,MAAM,EAAEa,OAAO,wBAAyB;IAAC,KAAK,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAG;EAAE,EAAG,CAErE,EAEnB,oBAAC,gBAAgB;IAAC,OAAO,EAAE;MAAA,OAAOzB,KAAK,CAAC0B,UAAU,CAAC1B,KAAK,CAACC,IAAI,CAACS,EAAE,CAAC;IAAA;EAAE,GAE/D,oBAAC,KAAK;IAAC,MAAM,EAAEa,OAAO,mCAAoC;IAAC,KAAK,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAG;EAAE,EAAG,CAEhF,CAGhB;AAEf;AAEA,IAAMT,MAAM,GAAGW,UAAU,CAACC,MAAM,CAAC;EAC7BX,OAAO,EAAE;IACLY,aAAa,EAAE;EACnB,CAAC;EACDV,SAAS,EAAE;IACPW,UAAU,EAAE,EAAE;IACdL,KAAK,EAAE;EACX;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}